<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Notes App</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #faf7f2;
    display: flex;
    height: 100vh;
    overflow: hidden;
}
.sidebar {
    width: 240px;
    background: #fff;
    border-right: 1px solid #eee;
    padding: 20px;
    box-sizing: border-box;
}
.logo { font-size: 22px; font-weight: bold; margin-bottom: 30px; color: orange; }
.menu-item { padding: 12px; font-size: 16px; color: #555; cursor: pointer; border-radius: 8px; margin-bottom: 10px; }
.menu-item:hover, .active { background: #f5f1ea; color: #000; }
.main { flex: 1; padding: 30px; overflow-y: auto; }
.page-title { font-size: 32px; margin-bottom: 20px; color: orange; }
.card { background: white; padding: 20px; border-radius: 12px; margin-bottom: 15px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); position: relative; transition: background 0.3s; }
.card img { max-width: 100%; border-radius: 8px; margin-top: 10px; }
.card button { position: absolute; top: 10px; right: 10px; background: red; color: #fff; border: none; border-radius: 6px; cursor: pointer; padding: 4px 8px; }
.actions { display: flex; gap: 10px; margin-bottom: 20px; }
.input-box { flex: 1; padding: 10px; border-radius: 8px; border: 1px solid #ccc; }
.add-btn { padding: 10px 20px; border-radius: 8px; border: none; background: orange; color: #fff; cursor: pointer; }
.add-btn:hover { background: darkorange; }
.upload-btn { padding: 10px 20px; border-radius: 8px; border: none; background: #2196F3; color: #fff; cursor: pointer; }
.upload-btn:hover { background: #0b7dda; }
.todo-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background:#fff; border-radius:8px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
.todo-item span { cursor: pointer; }
.templates { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 20px; }
.template { width: 50px; height: 50px; border-radius: 8px; cursor: pointer; border: 2px solid #fff; transition: transform 0.2s, border 0.2s; }
.template:hover { transform: scale(1.1); border: 2px solid #000; }
</style>
</head>
<body>
<div class="sidebar">
    <div class="logo">Notes</div>
    <div class="menu-item active" onclick="loadPage('notes')">Simple Notes</div>
    <div class="menu-item" onclick="loadPage('todo')">To‚ÄëDo List</div>
    <div class="menu-item" onclick="loadPage('templates')">Templates</div>
    <div class="menu-item" onclick="loadPage('import')">Import</div>
    <div class="menu-item" onclick="loadPage('trash')">Trash</div>
</div>

<div class="main" id="content">
</div>

<script>
// STORAGE
let notes = JSON.parse(localStorage.getItem('notes')) || [];
let todos = JSON.parse(localStorage.getItem('todos')) || [];
let trash = JSON.parse(localStorage.getItem('trash')) || [];

// Save all data to localStorage
function saveAll() {
    localStorage.setItem('notes', JSON.stringify(notes));
    localStorage.setItem('todos', JSON.stringify(todos));
    localStorage.setItem('trash', JSON.stringify(trash));
}

// PAGE LOADER
function loadPage(page) {
    const content = document.getElementById("content");
    document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
    event.target.classList.add('active');

    if(page==='notes') loadNotes();
    if(page==='todo') loadTodo();
    if(page==='templates') loadTemplates();
    if(page==='import') loadImport();
    if(page==='trash') loadTrash();
}

// ---------------- NOTES ----------------
function loadNotes(){
    const content = document.getElementById('content');
    content.innerHTML = `<h1 class='page-title'>Simple Notes</h1>
        <div class="actions">
            <input type="text" id="newNote" placeholder="Type your note here..." class="input-box">
            <button class="add-btn" onclick="addNote()">Add Note</button>
            <button class="upload-btn" onclick="addFile()">Upload File</button>
        </div>`;

    notes.forEach((n,i)=>{
        let html = `<div class='card' id='note-${i}' style='background:${n.color||'white'}'>`;
        if(n.type==="text") html += n.content;
        if(n.type==="image") html += `<img src="${n.content}">`;
        if(n.type==="pdf") html += `<p>üìÑ ${n.content.name || 'PDF File'}</p>`;
        html += `<button onclick="deleteNote(${i})">Delete</button></div>`;
        content.innerHTML += html;
    });
}

function addNote(){
    const input = document.getElementById('newNote');
    const text = input.value.trim();
    if(text) { notes.push({type:"text", content:text, color:'white'}); saveAll(); input.value=''; loadNotes(); }
}

function addFile(){
    const input = document.createElement('input');
    input.type='file';
    input.accept='image/*,application/pdf';
    input.onchange = (e)=>{
        const file = e.target.files[0];
        if(file.type.startsWith('image/')){
            const reader = new FileReader();
            reader.onload = ()=>{ notes.push({type:"image", content:reader.result, color:'white'}); saveAll(); loadNotes(); }
            reader.readAsDataURL(file);
        } else if(file.type==='application/pdf'){
            notes.push({type:"pdf", content:file, color:'white'});
            saveAll(); loadNotes();
        }
    };
    input.click();
}

function deleteNote(i){
    trash.push(notes[i]);
    notes.splice(i,1);
    saveAll();
    loadNotes();
}

// ---------------- TODO ----------------
function loadTodo(){
    const content = document.getElementById('content');
    content.innerHTML = `<h1 class='page-title'>To-Do List</h1>
        <div class="actions">
            <input type="text" id="newTodo" placeholder="New Task..." class="input-box">
            <button class="add-btn" onclick="addTodo()">Add Task</button>
        </div>`;
    todos.forEach((t,i)=>{
        content.innerHTML += `<div class='todo-item'>
            <span onclick="toggleTodo(${i})">${t.done?"‚úîÔ∏è ":"‚≠ï "}${t.text}</span>
            <button onclick="deleteTodo(${i})">Delete</button>
        </div>`;
    });
}

function addTodo(){
    const input = document.getElementById('newTodo');
    const t = input.value.trim();
    if(t){ todos.push({text:t, done:false}); saveAll(); input.value=''; loadTodo(); }
}

function toggleTodo(i){
    todos[i].done = !todos[i].done;
    saveAll(); loadTodo();
}

function deleteTodo(i){
    trash.push({type:"text", content:todos[i].text});
    todos.splice(i,1);
    saveAll();
    loadTodo();
}

// ---------------- TEMPLATES ----------------
function loadTemplates(){
    const colors = ["#f28b82","#fbbc04","#fff475","#ccff90","#a7ffeb","#cbf0f8","#aecbfa","#d7aefb"];
    document.getElementById('content').innerHTML = `<h1 class='page-title'>Templates</h1><div class='templates'>`+
        colors.map(c=>`<div class='template' style='background:${c}' onclick="applyColor('${c}')"></div>`).join('')+
        `</div>`;
}

function applyColor(color){
    // Change all notes color to selected template color
    notes = notes.map(n => ({...n, color: color}));
    saveAll();
    loadNotes();
}

// ---------------- IMPORT ----------------
function loadImport(){
    document.getElementById('content').innerHTML = `<h1 class='page-title'>Import Notes</h1>
        <input type='file' onchange='importFile(event)' multiple />`;
}

function importFile(e){
    const files = Array.from(e.target.files);
    files.forEach(file=>{
        if(file.type.startsWith('image/')){
            const reader = new FileReader();
            reader.onload = ()=>{ notes.push({type:"image", content:reader.result, color:'white'}); saveAll(); loadNotes();}
            reader.readAsDataURL(file);
        } else if(file.type==='application/pdf'){
            notes.push({type:"pdf", content:file, color:'white'});
            saveAll(); loadNotes();
        } else {
            const reader = new FileReader();
            reader.onload = ()=>{ notes.push({type:"text", content:reader.result, color:'white'}); saveAll(); loadNotes();}
            reader.readAsText(file);
        }
    });
}

// ---------------- TRASH ----------------
function loadTrash(){
    const content = document.getElementById('content');
    content.innerHTML = `<h1 class='page-title'>Trash</h1>`;
    trash.forEach((t,i)=>{
        let html = `<div class='card'>`;
        if(t.type==="text") html += t.content;
        if(t.type==="image") html += `<img src="${t.content}">`;
        if(t.type==="pdf") html += `<p>üìÑ ${t.content.name || 'PDF File'}</p>`;
        html += `</div>`;
        content.innerHTML += html;
    });
}

// INITIAL PAGE
loadPage('notes');
</script>
</body>
</html>
